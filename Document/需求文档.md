# “喝了吗”饮水提醒小程序需求文档

## 1. 项目概述

“喝了吗”是一款轻量化的健康习惯养成小程序，通过游戏化的勋章系统和直观的进度展示，帮助用户养成科学的饮水习惯。

---

## 2. 页面详细定义

### 2.1 微信登录页 (Login)

* **功能描述**：用户进入小程序的第一站，处理授权逻辑。
* **视觉元素**：
* 居中展示品牌 Logo（可爱水滴插图）。
* 欢迎语：“让喝水变得更有趣”。


* **交互逻辑**：
* **微信一键登录按钮**：调用 `wx.login` 获取用户信息。
* 首次登录需引导至“设置页”初始化每日目标。



### 2.2 今日饮水进度 (Home) - **核心页**

* **核心组件**：大型环形进度条。
* **功能点**：
* **进度展示**：进度条中间显示“当前杯数 / 目标杯数”，并同步填充百分比。
* **快速打卡**：点击进度条圆心区域，即刻增加 1 杯。
* **倒计时显示**：进度条下方显示“下一次提醒：XX:XX”。


* **交互逻辑**：
* 打卡成功后触发水滴波动动画。
* 长按圆心可撤销上一次误触记录。



### 2.3 饮水统计页 (Statistics)

* **功能描述**：回顾历史数据，反馈习惯养成情况。
* **视觉组件**：
* **周统计图表**：使用柱状图展示过去 7 天的饮水杯数，达标日期用绿色标注，未达标用灰色。
* **今日时间线**：垂直时间轴，记录今日每一杯水的打卡时间点（如：08:30、10:15）。


* **数据逻辑**：统计图表需支持滑动查看上周记录。

### 2.4 成就勋章页 (Achievements)

* **功能描述**：通过游戏化（Gamification）提升用户粘性。
* **布局**：3 列网格布局（Grid View）。
* **状态设计**：
* **已解锁**：彩色高亮图标，显示达成日期。
* **未解锁**：灰色置灰图标，点击弹出提示框告知“解锁条件”（如：再坚持 3 天即可获得）。


* **预设勋章示例**：
* “早起第一杯”（08:00 前喝水）。
* “水滴石穿”（连续打卡 7 天）。
* “饮水达人”（累计喝水 100 杯）。



### 2.5 提醒设置页 (Settings)

* **功能描述**：个性化配置提醒策略。
* **配置项**：
* **每日目标**：滑动选择器（建议 6-12 杯）。
* **提醒间隔**：选择器（如：45分钟、1小时、1.5小时）。
* **免打扰模式**：时间范围选择器（如：23:00 - 07:00 停止推送）。
* **开关逻辑**：一键开启/关闭所有提醒通知。



---

## 3. 技术逻辑说明

### 3.1 底部导航栏配置 (Tabbar)

* **标签一**：今日 (首页 icon)
* **标签二**：统计 (图表 icon)
* **标签三**：成就 (奖杯 icon)
* **标签四**：设置 (齿轮 icon)

### 3.2 关键 API 与数据存储

* **数据持久化**：使用 `wx.setStorage` 存储用户的每日打卡记录。
* **提醒机制**：利用微信小程序的**订阅消息**功能发送喝水提醒（需注意小程序订阅消息需用户授权触发）。
* **图表插件**：建议集成 `ECharts-for-weixin` 或 `uCharts` 实现柱状图。

---

## 4. 后续开发计划

1. **UI 设计**：确定水滴 IP 形象及勋章插画。
2. **前端实现**：基于 WXML/WXSS 完成网格布局与圆环进度条开发。
3. **测试环节**：重点测试免打扰时间段内的提醒是否会被准确拦截。